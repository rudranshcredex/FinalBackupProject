@isTest
public With sharing class MetadataRecoveryTest{
	
    Private static String zipContent = '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';
    Private static String AsyncResultId = '0Af5i00000hcNw1CAE';
    
    @isTest
    static void testDeploy(){
        Test.setMock(HttpCalloutMock.class,new MetadataRecoveryResponseGenerator('deploy'));
        MetadataRecovery.deployMetadata(zipContent);
    }
    
    @isTest
    static void testCheckDeployStatus(){
        Test.setMock(HttpCalloutMock.class,new MetadataRecoveryResponseGenerator('checkDeployStatus'));
        MetadataRecovery.CheckDeployStatus(AsyncResultId);
        /*MetadataRecovery.RecoveryResponse  response= MetadataRecovery.CheckDeployStatus(AsyncResultId);
        system.debug(response);
        System.assertEquals('2', response.numberComponentsDeployed, 'Number of components Deployed should be 2');
        System.assertEquals('2', response.numberComponentsTotal, 'Total Number of components should be 2');
        system.assertEquals('true',response.isSuccess,'Success Should be true');*/
        
    }
    
}